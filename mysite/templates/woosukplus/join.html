<!--회원가입-->
<!DOCTYPE html>
{% load static %}
<html>
<head>
    <meta charset="UTF-8">
    <title>로그인</title>
    <link rel="stylesheet" href="{% static 'css/join_style.css' %}">
</head>
<body>
    <div id="screen_full">
        <img src="{% static 'img/join1.png' %}" class="join1">
        <div id="screen_bottom">

            <div id="screen_right">
                <div class="container">
                    <h2>회원가입</h2>
                    <form id="joinForm" method="post" action="{% url 'join' %}">
                        {% csrf_token %}
                      <input type="text" name="name" placeholder="이름" required>
                      <input type="text" name="username" placeholder="닉네임" required>
                      <input type="text" name="major" placeholder="전공" required>
                      <input type="text" name="university" placeholder="대학교" required>
                      <input type="email" name="email" placeholder="이메일" required>
                      <input id="password" type="password" name="password1" placeholder="비밀번호" required>
                      <span id="passwordError" class="error"></span>
                      <input type="password" name="password2" placeholder="비밀번호 확인" required>
                      <button type="submit">가입하기</button>
                    </form>

                </div>
            </div>
        </div>
    </div>
<script>
         document.getElementById('joinForm').addEventListener('submit', function(event) {
            var passwordInput = document.getElementById('password').value;

            // 최소 길이 확인
            if (passwordInput.length < 8) {
                document.getElementById('passwordError').innerHTML = '비밀번호는 최소 8자 이상이어야 합니다.';
                event.preventDefault(); // 폼 전송 방지
                return;
            }

            // 연속적인 패턴 확인
            if (hasConsecutivePattern(passwordInput)) {
                document.getElementById('passwordError').innerHTML = '비밀번호에 연속적인 패턴이 포함되어 있습니다.';
                event.preventDefault(); // 폼 전송 방지
                return;
            }
            if (!containsRequiredCharacters(passwordInput)) {
                document.getElementById('passwordError').innerHTML = '비밀번호에는 소문자, 대문자, 숫자, 특수문자 중 하나 이상을 포함해야 합니다.';
                event.preventDefault(); // 폼 전송 방지
                return;
            }
            // 유효한 경우 메시지 초기화
            document.getElementById('passwordError').innerHTML = '';
        });

        function hasConsecutivePattern(password) {
            // 예제: 동일한 문자나 숫자의 연속을 확인
            for (var i = 0; i < password.length - 1; i++) {
                if (password[i] === password[i + 1]) {
                    return true;
                }
            }
            return false;
        }
    </script>
</body>
</html>